{$CLEO .s}
{$USE debug}
{$USE memory}
var 0@ : Integer
var 1@ : Integer
var 2@ : Integer
var 3@ : Integer
var 4@ : Integer
var 5@ : Integer
var 6@ : Integer
var 7@ : Integer
var 8@ : Integer
var 9@ : Integer
var 10@ : Integer

script_name "0AC7" // get_vehicle_pointer
debug_on

trace "0AC7 (get_var_pointer)"


wait 0
1@ = 0x11223344
0AC7: get_var_pointer 1@ {result} 0@ // tested opcode

2@ = 0xCCCCCCCC
read_memory 0@ {size} 4 {vp} false {result} 2@

if and
    0@ > 0x10000 // possibly valid pointer
    2@ == 0x11223344
then
    trace "~g~~h~~h~0AC7 (get_var_pointer), #0 PASSED"
else
    breakpoint "~r~~h~~h~~h~0AC7 (get_var_pointer), #0 FAILED!~n~11223344 Expected~n~%08x Occured" 2@
end


terminate_this_custom_script
